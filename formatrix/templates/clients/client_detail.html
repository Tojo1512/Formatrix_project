{% extends "base.html" %}
{% load static %}

{% block title %}{{ client.nom_entite }} - Formatrix{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/details.css' %}">
{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
      <h2 class="card-title">{{ client.nom_entite }}</h2>
      <div>
        <a href="{% url 'client-update' client.clientid %}" class="btn btn-outline">
          <i class="fas fa-edit"></i> Modifier
        </a>
        <a href="{% url 'client-list' %}" class="btn btn-outline">
          <i class="fas fa-arrow-left"></i> Retour à la liste
        </a>
      </div>
    </div>
    
    <div class="status-badges">
      <span class="badge badge-info">
        {{ client.typeclientid.get_categorie_display }}
      </span>
      <span class="badge badge-secondary">
        {{ client.get_secteur_activite_display }}
      </span>
      {% if client.email %}
      <span class="badge badge-secondary">
        <i class="fas fa-envelope"></i> {{ client.email }}
      </span>
      {% endif %}
      {% if client.telephone %}
      <span class="badge badge-secondary">
        <i class="fas fa-phone"></i> {{ client.telephone }}
      </span>
      {% endif %}
    </div>
    
    <div class="row">
      <div class="col-md-6">
        <div class="info-group">
          <h3>Informations de l'entité</h3>
          <div class="info-item">
            <span class="info-label">Nom de l'entité:</span>
            <span class="info-value">{{ client.nom_entite }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Sigle/Acronyme:</span>
            <span class="info-value">{{ client.sigle|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Type de client:</span>
            <span class="info-value">{{ client.typeclientid.typeclient }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Secteur d'activité:</span>
            <span class="info-value">{{ client.get_secteur_activite_display }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Site web:</span>
            <span class="info-value">
              {% if client.site_web %}
                <a href="{{ client.site_web }}" target="_blank">{{ client.site_web }}</a>
              {% else %}
                Non spécifié
              {% endif %}
            </span>
          </div>
        </div>

        <div class="info-group">
          <h3>Coordonnées</h3>
          <div class="info-item">
            <span class="info-label">Email:</span>
            <span class="info-value">{{ client.email|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Téléphone:</span>
            <span class="info-value">{{ client.telephone|default:"Non spécifié" }}</span>
          </div>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="info-group">
          <h3>Adresse et localisation</h3>
          <div class="info-item">
            <span class="info-label">Adresse du siège:</span>
            <span class="info-value">{{ client.adresse_siege|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Ville:</span>
            <span class="info-value">{{ client.ville|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Localité:</span>
            <span class="info-value">{{ client.localite|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Numéro d'immatriculation:</span>
            <span class="info-value">{{ client.numero_immatriculation|default:"Non spécifié" }}</span>
          </div>
        </div>

        <div class="info-group">
          <h3>Personne de contact</h3>
          <div class="info-item">
            <span class="info-label">Nom:</span>
            <span class="info-value">{{ client.personne_contact|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Fonction:</span>
            <span class="info-value">{{ client.fonction_contact|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Email:</span>
            <span class="info-value">{{ client.email_contact|default:"Non spécifié" }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Téléphone:</span>
            <span class="info-value">{{ client.telephone_contact|default:"Non spécifié" }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <a href="{% url 'client-update' client.clientid %}" class="btn btn-primary">
        <i class="fas fa-edit"></i>
        Modifier
      </a>
      <a href="{% url 'client-delete' client.clientid %}" class="btn btn-danger">
        <i class="fas fa-trash"></i>
        Supprimer
      </a>
      <a href="{% url 'client-list' %}" class="btn btn-outline">
        <i class="fas fa-arrow-left"></i>
        Retour à la liste
      </a>
    </div>
  </div>
</div>
{% endblock %}
