{% extends "base.html" %}
{% load static %}

{% block title %}Home - Formatrix{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% if not user.is_authenticated %}
<link rel="stylesheet" href="{% static 'css/splashscreen.css' %}">
{% endif %}
{% endblock %}

{% block splash %}
{% if not user.is_authenticated %}
<div class="splash-screen">
    <div class="splash-content">
        <h1>Welcome to Formatrix</h1>
        <p>Your training management platform</p>
        <div class="splash-features">
            <div class="feature">
                <i class="fas fa-book"></i>
                <span>Training Management</span>
            </div>
            <div class="feature">
                <i class="fas fa-users"></i>
                <span>Learner Tracking</span>
            </div>
            <div class="feature">
                <i class="fas fa-chart-bar"></i>
                <span>Detailed Reports</span>
            </div>
        </div>
        <div class="splash-actions">
            <a href="{% url 'login' %}" class="btn btn-primary">Login</a>
            <a href="{% url 'register' %}" class="btn btn-outline">Sign Up</a>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}

{% block content %}
<div class="home-container">
    <div class="welcome-section">
        <h1>Welcome to Formatrix</h1>
        <p class="welcome-text">Your training management platform</p>
    </div>

    <div class="description-section">
        <div class="about-platform">
            <h2><i class="fas fa-info-circle"></i> About Formatrix</h2>
            <p>Formatrix is a comprehensive training management platform designed to streamline and optimize your educational programs. Our platform offers powerful tools for course creation, student tracking, and program management, making it easier than ever to deliver high-quality training.</p>
        </div>

        <div class="key-features">
            <h3><i class="fas fa-star"></i> Key Features</h3>
            <ul>
                <li><i class="fas fa-check"></i> Easy course creation and management</li>
                <li><i class="fas fa-check"></i> Flexible training formats (In-Person, Remote, Hybrid)</li>
                <li><i class="fas fa-check"></i> Detailed tracking and reporting</li>
                <li><i class="fas fa-check"></i> Approval workflow system</li>
                <li><i class="fas fa-check"></i> Resource management</li>
            </ul>
        </div>

        <div class="platform-benefits">
            <h3><i class="fas fa-gift"></i> Benefits</h3>
            <ul>
                <li><i class="fas fa-check"></i> Streamlined training organization</li>
                <li><i class="fas fa-check"></i> Enhanced learning experience</li>
                <li><i class="fas fa-check"></i> Time and resource optimization</li>
                <li><i class="fas fa-check"></i> Comprehensive progress tracking</li>
            </ul>
        </div>
    </div>

    <div class="quick-actions">
        <h2>Quick Actions</h2>
        <div class="action-buttons">
            <a href="{% url 'cours-create' %}" class="action-button">
                <i class="fas fa-plus"></i>
                <span>Create Course</span>
            </a>
            <a href="{% url 'cours-list' %}" class="action-button">
                <i class="fas fa-list"></i>
                <span>View All Courses</span>
            </a>
        </div>
    </div>

    {% if recent_courses %}
    <div class="recent-courses">
        <h2>Recent Courses</h2>
        <div class="courses-grid">
            {% for course in recent_courses %}
            <div class="course-card">
                <div class="course-header">
                    <h3>{{ course.nom_cours }}</h3>
                    <span class="badge {% if course.statut_approbation == 'APPROUVE' %}badge-success{% elif course.statut_approbation == 'EN_ATTENTE' %}badge-warning{% else %}badge-danger{% endif %}">
                        {{ course.get_statut_approbation_display }}
                    </span>
                </div>
                <div class="course-info">
                    <p><i class="fas fa-clock"></i> {{ course.duree }} hours</p>
                    <p><i class="fas fa-chalkboard-teacher"></i> {{ course.get_type_cours_display }}</p>
                </div>
                <div class="course-actions">
                    <a href="{% url 'cours-detail' course.pk %}" class="btn btn-sm btn-primary">View Details</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %} 