{% extends "base.html" %}
{% load static %}

{% block title %}Accueil - Formatrix{% endblock %}

{% block content %}
<div class="home-content">
  <div class="text-center">
      <h1 class="display-4 mb-4 fw-bold">
        <i class="fas fa-graduation-cap text-primary me-3"></i>
        Bienvenue sur Formatrix
      </h1>
      
      {% if user.is_authenticated %}
        <div class="card bg-dark text-light border-0 shadow-sm mb-4">
          <div class="card-body">
            <div class="d-flex align-items-center justify-content-center mb-3">
              <i class="fas fa-user-circle text-primary me-2 fa-2x"></i>
              <div>
                <h4 class="card-title mb-1">{{ user.username }}</h4>
                <span class="badge {% if user.is_staff %}bg-danger{% else %}bg-primary{% endif %} mb-2">
                  {% if user.is_staff %}
                    <i class="fas fa-user-shield me-1"></i>Administrateur
                  {% else %}
                    <i class="fas fa-chalkboard-teacher me-1"></i>Formateur
                  {% endif %}
                </span>
              </div>
            </div>
            <p class="card-text mb-4">
              {% if user.is_staff %}
                Vous avez accès à toutes les fonctionnalités d'administration.
              {% else %}
                Vous avez accès aux fonctionnalités de gestion des formations.
              {% endif %}
            </p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
              <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-danger">
                  <i class="fas fa-sign-out-alt me-2"></i>Se déconnecter
                </button>
              </form>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="row g-4 mt-2">
          {% if user.is_staff %}
            <!-- Actions Administrateur -->
            <div class="col-md-4">
              <div class="card bg-dark text-light border-0 shadow-sm h-100">
                <div class="card-body">
                  <i class="fas fa-users-cog text-primary fa-2x mb-3"></i>
                  <h5 class="card-title">Gestion des Utilisateurs</h5>
                  <p class="card-text">Gérez les formateurs et les accès</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card bg-dark text-light border-0 shadow-sm h-100">
                <div class="card-body">
                  <i class="fas fa-chart-pie text-primary fa-2x mb-3"></i>
                  <h5 class="card-title">Statistiques Globales</h5>
                  <p class="card-text">Analysez les performances</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card bg-dark text-light border-0 shadow-sm h-100">
                <div class="card-body">
                  <i class="fas fa-cogs text-primary fa-2x mb-3"></i>
                  <h5 class="card-title">Configuration</h5>
                  <p class="card-text">Paramètres du système</p>
                </div>
              </div>
            </div>
          {% else %}
            <!-- Actions Formateur -->
            <div class="col-md-4">
              <div class="card bg-dark text-light border-0 shadow-sm h-100">
                <div class="card-body">
                  <i class="fas fa-chalkboard-teacher text-primary fa-2x mb-3"></i>
                  <h5 class="card-title">Mes Formations</h5>
                  <p class="card-text">Gérez vos sessions de formation</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card bg-dark text-light border-0 shadow-sm h-100">
                <div class="card-body">
                  <i class="fas fa-user-graduate text-primary fa-2x mb-3"></i>
                  <h5 class="card-title">Mes Apprenants</h5>
                  <p class="card-text">Suivez vos apprenants</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card bg-dark text-light border-0 shadow-sm h-100">
                <div class="card-body">
                  <i class="fas fa-chart-line text-primary fa-2x mb-3"></i>
                  <h5 class="card-title">Mes Rapports</h5>
                  <p class="card-text">Consultez vos statistiques</p>
                </div>
              </div>
            </div>
          {% endif %}
        </div>
      {% else %}
        <div class="card bg-dark text-light border-0 shadow-sm">
          <div class="card-body py-5">
            <h4 class="card-title mb-4">Connectez-vous pour accéder à votre espace</h4>
            <div class="d-grid gap-3 d-md-flex justify-content-md-center">
              <a href="{% url 'login' %}" class="btn btn-primary">
                <i class="fas fa-sign-in-alt me-2"></i>Se connecter
              </a>
              <a href="{% url 'register' %}" class="btn btn-outline-light">
                <i class="fas fa-user-plus me-2"></i>S'inscrire
              </a>
              <a href="{% url 'password_reset' %}" class="btn btn-link text-light">
                <i class="fas fa-key me-2"></i>Mot de passe oublié ?
              </a>
            </div>
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}